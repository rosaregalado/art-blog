{% extends 'base.html' %}

{% block content %}
<h1 class="text-center p-3">Poems</h1>

<div class="text-center">
  <button type="button" class="btn btn-outline-success">
    <a href='/poetry/new'>Upload New Poem</a>
  </button>
</div>


<div class=' m-3'>
  {% for poem in poems %}
    <div style=" background-color: white;">
      <div class='p-5 m-3 border border-info' style="background-image: url('/static/images/poem-bg-2.jpeg'); width: 60vw;">
        <!-- title -->
        <div class="text-center " style="font-family: cursive;">
          <h2><a href='/poems/{{ poem._id }}'>{{ poem.title }}</a></h2>
        </div>
        <!-- description -->
        <div class="p-3">
          <div class=" p-3 border border-secondary border-1">
            <p>{{ poem.poem }}</p>
          </div>
        </div>
        <!-- date created -->
        <div class="p-2">
          <p class="d-flex align-items-end justify-content-end" style="color: blue;">{{ poem.date_created }}</p>
          <!-- edit poem-->
          <p><a href='/poems/{{ poem._id }}/edit'>Edit</a></p>
          <!-- delete poem -->
          <p><form method='POST' action='/poems/{{ poem._id }}/delete'>
            <button class='btn btn-outline-danger' type='submit'>Delete</button>
          </form></p>

          <!-- delete button -->
          <!-- <div class="p-2">
            <button type="button" class="btn btn-outline-primary"><a href="/poems/{{ poem._id }}/edit">Edit Poem</a></button>
          </div> -->
        </div>
      </div>
    </div>
    

  {% endfor %}
</div>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class='alert alert-{{ category }} text-center'>{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

{% endblock %}